"use strict";(self.webpackChunkpostgraph_web=self.webpackChunkpostgraph_web||[]).push([[7836],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>N});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=r.createContext({}),s=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=s(e.components);return r.createElement(u.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,u=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=s(n),m=a,N=p["".concat(u,".").concat(m)]||p[m]||d[m]||l;return n?r.createElement(N,i(i({ref:t},c),{},{components:n})):r.createElement(N,i({ref:t},c))}));function N(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,i=new Array(l);i[0]=m;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o[p]="string"==typeof e?e:a,i[1]=o;for(var s=2;s<l;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8002:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var r=n(7462),a=(n(7294),n(3905));const l={layout:"default",title:"UNION",nav_order:10,description:"The UNION clause is used to combine the result of multiple queries."},i="UNION",o={unversionedId:"Clauses/UNION",id:"Clauses/UNION",title:"UNION",description:"The UNION clause is used to combine the result of multiple queries.",source:"@site/docs/03-Clauses/09-UNION.md",sourceDirName:"03-Clauses",slug:"/Clauses/UNION",permalink:"/docs/Clauses/UNION",draft:!1,editUrl:"https://github.com/postgraphdb/postgraphdb.github.io/tree/code/docs/03-Clauses/09-UNION.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{layout:"default",title:"UNION",nav_order:10,description:"The UNION clause is used to combine the result of multiple queries."},sidebar:"tutorialSidebar",previous:{title:"MERGE",permalink:"/docs/Clauses/MERGE"},next:{title:"OPTIONAL MATCH",permalink:"/docs/Clauses/OPTIONAL-MATCH"}},u={},s=[{value:"Introduction",id:"introduction",level:2},{value:"Combine Two Queries and Retain Duplicates",id:"combine-two-queries-and-retain-duplicates",level:2},{value:"Query",id:"query",level:3},{value:"Result",id:"result",level:3},{value:"Combine Two Queries and Remove Duplicates",id:"combine-two-queries-and-remove-duplicates",level:2},{value:"Query",id:"query-1",level:3},{value:"Result",id:"result-1",level:3}],c={toc:s},p="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(p,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"union"},"UNION"),(0,a.kt)("h2",{id:"introduction"},"Introduction"),(0,a.kt)("p",null,"UNION combines the results of two or more queries into a single result set that includes all the rows that belong to all queries in the union."),(0,a.kt)("p",null,"The number and the names of the columns must be identical in all queries combined by using UNION."),(0,a.kt)("p",null,"To keep all the result rows, use UNION ALL. Using just UNION will combine and remove duplicates from the result set."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"If any of the queries in a UNION contain updates, the behavior of PostGraph is currently undefined, and not recommended.\n\nThis will change in a future release.\n")),(0,a.kt)("h2",{id:"combine-two-queries-and-retain-duplicates"},"Combine Two Queries and Retain Duplicates"),(0,a.kt)("p",null,"Combining the results from two queries is done using UNION ALL."),(0,a.kt)("h3",{id:"query"},"Query"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM cypher('merge', $$\n    MATCH (n:Actor)\n    RETURN n.name AS name\n    UNION ALL\n    MATCH (n:Movie)\n    RETURN n.title AS name\n$$) as (name gtype);\n")),(0,a.kt)("p",null,"The combined result is returned, including duplicates."),(0,a.kt)("h3",{id:"result"},"Result"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"name"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},'"Anthony Hopkins"')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},'"Helen Mirren"')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},'"Hitchcock"')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},'"Hitchcock"')))),(0,a.kt)("h2",{id:"combine-two-queries-and-remove-duplicates"},"Combine Two Queries and Remove Duplicates"),(0,a.kt)("p",null,"By not including ALL in the UNION, duplicates are removed from the combined result set."),(0,a.kt)("h3",{id:"query-1"},"Query"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM cypher('merge', $$\n    MATCH (n:Actor)\n    RETURN n.name AS name\n    UNION\n    MATCH (n:Movie)\n    RETURN n.title AS name\n$$) as (name gtype);\n")),(0,a.kt)("p",null,"The combined result is returned, without duplicates."),(0,a.kt)("h3",{id:"result-1"},"Result"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"name"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},'"Anthony Hopkins"')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},'"Helen Mirren"')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},'"Hitchcock"')))))}d.isMDXComponent=!0}}]);